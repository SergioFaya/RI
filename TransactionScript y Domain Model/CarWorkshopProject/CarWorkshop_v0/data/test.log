/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C3*/SET SCHEMA PUBLIC
CREATE TABLE MECANICO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TIPOVEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, NOMBRE VARCHAR(255), PRECIOHORA REAL, PRIMARY KEY (ID))
CREATE TABLE CLIENTE (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, APELLIDOS VARCHAR(255), DNI VARCHAR(255), NOMBRE VARCHAR(255), CITY VARCHAR(255), STREET VARCHAR(255), ZIPCODE VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE REPUESTO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, CODIGO VARCHAR(255), DESCRIPCION VARCHAR(255), PRECIO REAL, PRIMARY KEY (ID))
CREATE TABLE VEHICULO (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, MARCA VARCHAR(255), MATRICULA VARCHAR(255), MODELO VARCHAR(255), NUMAVERIAS INTEGER, CLIENTE_ID BIGINT, PRIMARY KEY (ID))
CREATE TABLE AVERIA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, DESCRIPCION VARCHAR(255), FECHA TIMESTAMP, IMPORTE REAL, PRIMARY KEY (ID))
CREATE TABLE FACTURA (ID BIGINT GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) NOT NULL, FECHA TIMESTAMP, IMPORTE REAL, IVA REAL, NUMERO BIGINT, STATUS INTEGER, PRIMARY KEY (ID))
ALTER TABLE MECANICO ADD CONSTRAINT UNQ_MECANICO_2 UNIQUE (DNI)
ALTER TABLE CLIENTE ADD CONSTRAINT UNQ_CLIENTE_2 UNIQUE (DNI)
ALTER TABLE REPUESTO ADD CONSTRAINT UNQ_REPUESTO_1 UNIQUE (CODIGO)
ALTER TABLE VEHICULO ADD CONSTRAINT UNQ_VEHICULO_2 UNIQUE (MATRICULA)
ALTER TABLE VEHICULO ADD CONSTRAINT FK_VEHICULO_CLIENTE_ID FOREIGN KEY (CLIENTE_ID) REFERENCES CLIENTE (ID)
DISCONNECT
/*C4*/SET SCHEMA PUBLIC
DISCONNECT
